'use client';
import { FC, ReactNode, useEffect } from 'react';
import 'driver.js/dist/driver.css';

interface IDriverJsProviderProps {
	children: ReactNode;
}

export const DriverJsProvider: FC<IDriverJsProviderProps> = ({ children }) => {
	useEffect(() => {
		// Ð”Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚ driver.js Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° ÐºÐ»Ð¸ÐµÐ½Ñ‚Ðµ
		const initDriver = async () => {
			if (typeof window !== 'undefined') {
				const { driver } = await import('driver.js');

				const driverObj = driver({
					showProgress: true,
					nextBtnText: 'Ð”Ð°Ð»ÐµÐµ â†’',
					prevBtnText: 'â† ÐÐ°Ð·Ð°Ð´',
					steps: [
						{
							element: '#welcome-title',
							popover: {
								title: 'ðŸ‘‹ Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ!',
								description:
									'Ð­Ñ‚Ð¾ Ð³Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð½Ð°ÑˆÐµÐ³Ð¾ ÑÐ°Ð¹Ñ‚Ð°. Ð—Ð´ÐµÑÑŒ Ð¼Ñ‹ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ñ… Ð¿Ð¾ÑÐµÑ‚Ð¸Ñ‚ÐµÐ»ÐµÐ¹ Ð¸ Ñ€Ð°ÑÑÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ð¾ Ð½Ð°ÑˆÐµÐ¹ Ð¼Ð¸ÑÑÐ¸Ð¸.',
								side: 'bottom',
								align: 'center'
								// onNextClick: () => {
								// 	// Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¿Ñ€Ð¸ ÐºÐ»Ð¸ÐºÐµ Ð½Ð° "Ð”Ð°Ð»ÐµÐµ"
								// },
								// onPrevClick: () => {
								// 	// Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¿Ñ€Ð¸ ÐºÐ»Ð¸ÐºÐµ Ð½Ð° "ÐÐ°Ð·Ð°Ð´"
								// }
							}
						},
						{
							element: '#welcome-description',
							popover: {
								title: 'ðŸ“ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°',
								description:
									'Ð’ ÑÑ‚Ð¾Ð¼ Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ Ð¼Ñ‹ ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ Ñ‡Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÐ¼, ÐºÐ°ÐºÐ¸Ðµ ÑƒÑÐ»ÑƒÐ³Ð¸ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ Ð¸ Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ ÑÑ‚Ð¾Ð¸Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ð½Ð°Ñ.',
								side: 'bottom',
								align: 'center'
							}
						},
						{
							element: '#primary-btn',
							popover: {
								title: 'ðŸš€ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ',
								description:
									'Ð­Ñ‚Ð° ÐºÐ½Ð¾Ð¿ÐºÐ° Ð²ÐµÐ´ÐµÑ‚ Ð½Ð° Ð½Ð°Ñˆ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÑÐ°Ð¹Ñ‚ Elcho.dev, Ð³Ð´Ðµ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¾ Ð½Ð°ÑˆÐ¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ñ… Ð¸ ÑƒÑÐ»ÑƒÐ³Ð°Ñ….',
								side: 'top',
								align: 'center'
							}
						},
						{
							element: '#secondary-btn',
							popover: {
								title: 'ðŸ’¼ ÐŸÐ¾Ñ€Ñ‚Ñ„Ð¾Ð»Ð¸Ð¾',
								description:
									'Ð—Ð´ÐµÑÑŒ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹, Ð¸Ð·ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐµÐ¹ÑÑ‹ Ð¸ Ð¾Ñ†ÐµÐ½Ð¸Ñ‚ÑŒ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð½Ð°ÑˆÐ¸Ñ… Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹.',
								side: 'top',
								align: 'center'
							}
						},
						{
							element: '#decoration',
							popover: {
								title: 'âœ¨ Ð”ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹',
								description:
									'Ð­Ñ‚Ð¸ Ð°Ð½Ð¸Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ ÑÐ¾Ð·Ð´Ð°ÑŽÑ‚ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ð¸ Ð¿Ñ€Ð¸Ð²Ð»ÐµÐºÐ°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚ Ð´Ð»Ñ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð³Ð¾ Ð¾Ð¿Ñ‹Ñ‚Ð°.',
								side: 'left',
								align: 'center'
							}
						},
						//
						{
							element: '#footer-info',
							popover: {
								title: 'Ð­Ñ‚Ð¾ Ñ‚Ð²Ð¾Ð¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ðŸ‘¨â€ðŸ’»',
								description:
									'Elcho.dev - ÑÑ‚Ð¾ Ð¼Ð¾Ð¹ Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÐ°Ð¹Ñ‚, Ð³Ð´Ðµ Ñ Ð´ÐµÐ»ÑŽÑÑŒ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼Ð¸ Ð¸ ÑƒÑÐ»ÑƒÐ³Ð°Ð¼Ð¸. Ð•ÑÐ»Ð¸ Ð²Ð°Ð¼ Ð¿Ð¾Ð½Ñ€Ð°Ð²Ð¸Ð»ÑÑ ÑÑ‚Ð¾Ñ‚ ÑÐ°Ð¹Ñ‚, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð·Ð°ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ ÑÐ²Ð¾ÐµÐ³Ð¾ ÑÐ°Ð¹Ñ‚Ð° Ñƒ Ð¼ÐµÐ½Ñ.',
								side: 'bottom',
								align: 'center'
							}
						}
					]
				});

				// ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ñ‚ÑƒÑ€ Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÑƒÑŽ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÑƒ
				setTimeout(() => {
					driverObj.drive();
				}, 1000);
			}
		};

		initDriver();
	}, []);

	return children;
};
